# Список задач

# ToDo

- [ ] Сделать поддержку ограничения замен найденных шаблонов (если нужно заменять не все найденные последовательности)
- [ ] Сделать поддержку удаления hex-паттернов, а не их замены
- [x] Сделать поддержку вопросительных знаков `??` в паттернах как в [AutoIt](https://www.autoitscript.com/autoit3/docs/functions/StringRegExp.htm)
- [ ] Сделать поддержку регулярных выражений в hex-шаблонах как в `sed` или `perl`
  - Возможно [этот](https://stackoverflow.com/a/55314611) пример поможет
- [ ] Сделать функцию поиска начиная с определенного смещения в файле или начиная с определенной части файла в %
- [ ] Сделать считывание паттернов из файла в самом патчере
- [ ] Сделать проверку наличия прав на изменение/перезапись файла сразу после первого найденного паттерна, а не после перебора всех паттернов в основном скрипте
- [ ] Добавить поддержку [глоббинга](https://stackoverflow.com/questions/30229465/what-is-file-globbing) в строки с путями к файлам/папкам, которые необходимо найти, в файле-шаблоне
- [ ] Добавить поддержку работы с относительными путями
   - Имеется ввиду пути файлов в шаблоне
- [ ] В секции для удаления файлов и папок добавить поддержку удаления только всех вложенных данных или вложенных файлов по какому-то паттерну (например `\*exe`), хотя наверное это и есть глоббинг
- [ ] Возможно стоит добавить логику запуска `.ps1` файлов от имени администратора в скрипте-парсере
   - Имеется ввиду файлы создаваемые из кода в шаблоне
- [ ] Найти нормальный способ проверить нужны ли права администратора для удаления папки
  - Текущий способ проверяет это путем создания и удаления пустого файла в необходимой папке (это неправильно с точки зрения логики и производительности, но в большинстве ситуаций это работает как надо)
- [ ] Стилизовать прогресс-бары
  - При поиске Firewall-правил с указанными путями к exe - появляется прогресс бар отображающий прогресс выполнения процесса. Он появляется в верху терминала просто с названием метода `Get-NetFirewallRule`
- [ ] Добавить какой-то способ выставить очередность выполнения для секций в шаблоне
  - Могут быть ситуации, когда кастомный Powershell-код или CMD-код из шаблона нужно выполнить первым, например что-то сделать с сервисами (удалить или перезапустить или что-то еще)
- [ ] Добавить возможность задать атрибуты для создаваемых файлов
  - Например, если созданный файл необходимо сделать невидимым или системным
- [ ] Добавить способ разблокировки файлов-целей, если они заблокированы другим `fileStream.Read()` или используются где-то
